<<<<<<< HEAD
# Production Allocation & Balancer

ì´ í”„ë¡œì íŠ¸ëŠ” í˜¼í•© ì •ìˆ˜ ì„ í˜• ê³„íšë²•(MILP)ì„ ì‚¬ìš©í•˜ì—¬ ìž¥ë¹„ë³„ ìƒì‚° í• ë‹¹ì„ ìµœì í™”í•˜ê³ , ê°„íŠ¸ ì°¨íŠ¸ë¥¼ í†µí•´ íƒ€ìž„ë¼ì¸ì„ ì‹œê°í™”í•˜ë©°, Oracle DB ë° API ì—°ë™ì„ í†µí•´ ìžë™í™”ë¥¼ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

---

## ðŸš€ ì‹œìž‘ ê°€ì´ë“œ (Setup Guide)

ê°€ìƒ í™˜ê²½ì„ êµ¬ì„±í•˜ê³  í•„ìˆ˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤.

### 1. ê°€ìƒ í™˜ê²½ ìƒì„± ë° í™œì„±í™”
```powershell
# í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
cd production_balancer

# ê°€ìƒ í™˜ê²½ ìƒì„± (Windows/macOS/Linux ê³µí†µ)
python -m venv venv

# ê°€ìƒ í™˜ê²½ í™œì„±í™” (Windows)
.\venv\Scripts\activate

# ê°€ìƒ í™˜ê²½ í™œì„±í™” (macOS/Linux)
# source venv/bin/activate
```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜
```powershell
pip install -r requirements.txt
```

---

## ðŸ§© í”„ë¡œì íŠ¸ êµ¬ì¡° (Folder Structure)

```text
production_balancer/
â”œâ”€â”€ core/                # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ optimizer.py     # MILP ìµœì í™” ì—”ì§„
â”‚   â””â”€â”€ job_manager.py   # ë¹„ë™ê¸° í ë° ì›Œì»¤ ê´€ë¦¬
â”œâ”€â”€ database/            # ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´
â”‚   â””â”€â”€ manager.py       # Oracle DB ì—°ë™ (I/O)
â”œâ”€â”€ config/              # ì„¤ì • ë° ë°ì´í„° ì •ì˜
â”‚   â”œâ”€â”€ data_config.py   # í•˜ë“œì½”ë”©ëœ ê¸°ì´ˆ ë°ì´í„° (Sample)
â”‚   â””â”€â”€ config.yaml      # DB ì ‘ì† ë° ì‹œìŠ¤í…œ ì„¤ì •
â”œâ”€â”€ app.py               # Streamlit ëŒ€ì‹œë³´ë“œ (ì‹œê°í™”/ê²€ì¦)
â”œâ”€â”€ api.py               # FastAPI ì„œë²„ (ìžë™í™”/ì—°ë™)
â”œâ”€â”€ main.py              # CLI ì‹¤í–‰ ì—”íŠ¸ë¦¬
â””â”€â”€ requirements.txt     # ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ëª©ë¡
```

---

## ðŸ§  ëª¨ë¸ë§ ë°©ë²• (Modeling Approach)

ì´ ì‹œìŠ¤í…œì€ **í˜¼í•© ì •ìˆ˜ ì„ í˜• ê³„íšë²•(MILP)**ì„ ì‚¬ìš©í•˜ì—¬ ìµœì ì˜ í•´ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤.

### 1. ëª©í‘œ í•¨ìˆ˜ (Objective Function)
1.  **ë¯¸ì¶©ì¡± ìˆ˜ìš” ìµœì†Œí™” (Maximize Plan Achievement)**: ìƒì‚° ë¶€ì¡±ë¶„(Unmet Demand)ì— ë§¤ìš° ë†’ì€ ê°€ì¤‘ì¹˜(Penalty)ë¥¼ ë¶€ì—¬í•˜ì—¬ ëª¨ë“  ìˆ˜ìš”ë¥¼ ì¶©ì¡±í•˜ëŠ” í•´ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì°¾ìŠµë‹ˆë‹¤.
2.  **ì „í™˜ ìµœì†Œí™” (Minimize Changeovers)**: ìž¥ë¹„ì— í• ë‹¹ëœ ìž‘ì—… ê°œìˆ˜(Assignments)ì— íŽ˜ë„í‹°ë¥¼ ë¶€ì—¬í•˜ì—¬, ê°€ê¸‰ì  í•œ ìž¥ë¹„ê°€ í•œ ì œí’ˆ/ê³µì •ì„ ì—°ì†í•´ì„œ ë§¡ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.

### 2. ì£¼ìš” ì œì•½ ì¡°ê±´ (Constraints)
-   **ìˆ˜ìš” ì œì•½**: ìµœì¢… ê³µì •ì˜ ìƒì‚°ëŸ‰ í•©ê³„ê°€ ëª©í‘œ ìˆ˜ìš”ë¥¼ ì¶©ì¡±í•´ì•¼ í•¨.
-   **ìˆ˜ìˆœ íë¦„ ì œì•½ (Flow Conservation)**: ì„ í–‰ ê³µì •ì˜ ìƒì‚°ëŸ‰ì´ í›„í–‰ ê³µì •ì˜ ìƒì‚°ëŸ‰ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì•¼ í•¨.
-   **ê°€ìš© ì‹œê°„ ì œì•½**: (ìƒì‚° ì‹œê°„ + ì „í™˜ ì‹œê°„)ì˜ í•©ê³„ê°€ ìž¥ë¹„ì˜ ìš´ìš© ê°€ëŠ¥ ì‹œê°„(AVAILABLE_TIME)ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŒ.
-   **ìž¥ë¹„ í˜¸í™˜ì„±**: ê° ê³µì •ì€ ì§€ì •ëœ ìž¥ë¹„ ëª¨ë¸ì—ì„œë§Œ ìˆ˜í–‰ ê°€ëŠ¥í•¨.

### 3. ì „í™˜(Changeover) ë¡œì§
-   **ì œí’ˆ ì „í™˜**: ìž¥ë¹„ê°€ ë‹¤ë¥¸ ì œí’ˆêµ°ìœ¼ë¡œ ë³€ê²½ë  ë•Œ 2ì‹œê°„(ê¸°ë³¸ê°’)ì˜ Non-productive íƒ€ìž„ ë°œìƒ.
-   **ê³µì • ì „í™˜**: ë™ì¼ ì œí’ˆ ë‚´ì—ì„œ ê³µì •ì´ ë³€ê²½ë  ë•Œ 1ì‹œê°„(ê¸°ë³¸ê°’) ë°œìƒ.
-   **ì˜ˆì™¸ ì¼€ì´ìŠ¤**: íŠ¹ì • ì œí’ˆ ê°„ ì „í™˜ ì‹œì—ëŠ” 5ë¶„ ì´ë‚´ë¡œ ì²˜ë¦¬ë˜ë„ë¡ ì„¸ë¶€ ì„¤ì • ê°€ëŠ¥.

---

## ðŸ’» ì‹¤í–‰ ë°©ë²• (Usage)

### ëŒ€ì‹œë³´ë“œ (ì‹œê°í™” ë° ê²€ì¦ìš©)
```powershell
streamlit run app.py
```

### API ì„œë²„ (ì™¸ë¶€ ì—°ë™ ë° ìžë™í™”ìš©)
```powershell
python api.py
# Swagger ë¬¸ì„œ: http://localhost:8000/docs
```

### CLI ìžë™í™” í…ŒìŠ¤íŠ¸
```powershell
python main.py
```
=======
# pjt_optimizer
>>>>>>> 0a0e77ced10f5410259cd6658cbfdc81dbd548a0
